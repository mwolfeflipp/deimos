module Deimos
  # :nodoc:
  class <%= schema.classify %>Schema < SchemaModel
  <%- fields.select { |f| f.enum_values.any? }.each do |field| -%>enum <%= field.name %>: {<%= field.enum_values.map { |v| "#{v}: '#{v}'"}.join(', ') %>}<% end -%>

  <%- fields.each do |field| -%>
    def <%= field.name %>
      @payload['<%= field.name %>']{<%= field.enum_values.map { |v| "#{v}: '#{v}'"}.join(', ') %>}
<% end -%>

    # @override
    def schema
      '<%= full_schema %>'
    end
  end
end
